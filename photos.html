<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Black+Ops+One|Nanum+Gothic" rel="stylesheet">
    <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/reset.css">
    <link rel="stylesheet" href="./assets/css/style.css">
    <title>Knockout Fitness</title>
</head>

<body>
    <div class="wrapper-page">

        <div class="header-section">
            <div class="social-1">
                <a class="icon" href="https://www.facebook.com/KnockOutFitnessNj/" target="_blank">
                    <i class="fab fa-facebook-square fa-2x"></i>
                </a>
            </div>
            <div class="logo">
                <img src="./assets/images/9596014.png" alt="" class="src">
            </div>
            <div class="social-2">
                <a class="icon" href="https://www.instagram.com/explore/locations/286685818/knock-out-fitness-muay-thai/" target="_blank">
                    <i class="fab fa-instagram fa-2x"></i>
                </a>
            </div>
        </div>

        <div class="nav-section">
            <ul>
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li>
                    <a href="coaches.html">Coaches</a>
                </li>
                <li>
                    <a href="schedule.html">Schedule</a>
                </li>
                <li>
                    <a href="location.html">Location</a>
                </li>
                <li>
                    <a href="photos.html">Photos</a>
                </li>
            </ul>
        </div>

        <div class='photos-page-wrapper' id='photos'></div>

        <div class="nav-section">
            <ul>
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li>
                    <a href="coaches.html">Coaches</a>
                </li>
                <li>
                    <a href="schedule.html">Schedule</a>
                </li>
                <li>
                    <a href="location.html">Location</a>
                </li>
                <li>
                    <a href="photos.html">Photos</a>
                </li>
            </ul>
        </div>


        <div class="footer-section">
            <div class="footer-images">
                <div class="footer-logo">
                    <img src="./assets/images/9596014.png" alt="" class="src">
                </div>
                <div class="footer-prajioud">
                    <img src="./assets/images/prajioud.jpg" alt="" class="src">
                </div>
            </div>

            <div class="footer-info">
                <ul>
                    <li>Jim Walters - 732-598-7167</li>
                    <li>Linda Walters - 732-841-8886</li>
                </ul>
                <ul>
                    <li>Address: 2096 NJ-88, Brick, NJ 08724</li>
                    <li>
                        <a class="icon" href="https://www.facebook.com/KnockOutFitnessNj/" target="_blank">
                            <i class="fab fa-facebook-square fa-2x"></i>
                        </a>
                        <a class="icon" href="https://www.instagram.com/explore/locations/286685818/knock-out-fitness-muay-thai/" target="_blank">
                            <i class="fab fa-instagram fa-2x"></i>
                        </a>
                    </li>
                    <li>
                        <a class="icon" href="mailto:combatkickboxing27@yahoo.com">Email: combatkickboxing27@yahoo.com</a>
                    </li>
                </ul>
            </div>
        </div>

    </div>

</body>

<script type="text/javascript" >
    const xhr = new XMLHttpRequest();

    const photosSection = document.getElementById("photos");

    xhr.open("GET", "/assets/class-photos", true);
    xhr.responseType = 'document';
    xhr.onload = () => {
        if(xhr.status === 200) {
            const elements = xhr.response.getElementsByTagName("a");
            
            for(element of elements) {
                if(element.href.match(/\.(jpe?g|png|gif)$/) ) { 
                    const image = document.createElement("img");
                    image.src = element.href;
                    image.alt = `Picture of ${image.src}`; 

                    const anchorTag = document.createElement("a");
                    anchorTag.href = element.href;
                    anchorTag.target = "_blank";

                    const photoWrapper = document.createElement("div");
                    photoWrapper.className = "photo-wrapper";

                    anchorTag.appendChild(image);
                    photoWrapper.appendChild(anchorTag);

                    photosSection.appendChild(photoWrapper)
                }
            };

            const extraPhotoWrapper = document.createElement("div");
            extraPhotoWrapper.className = "photo-wrapper";

            photosSection.appendChild(extraPhotoWrapper);
            photosSection.appendChild(extraPhotoWrapper);
        } else {
            const errorMessage = document.createElement("p");
            errorMessage.innerHTML = "Failed to get images";
            errorMessage.style = "color: white;";

            const errorMessageWrapper = document.createElement("div");
            errorMessageWrapper.appendChild(errorMessage);

            photosSection.appendChild(errorMessageWrapper);
        }
    }

    xhr.send()
</script>

</html>